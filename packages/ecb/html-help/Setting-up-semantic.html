<html lang="en">
<head>
<title>Setting up semantic - ECB - the Emacs Code Browser</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="ECB - the Emacs Code Browser">
<meta name="generator" content="makeinfo 4.8">
<link title="Top" rel="start" href="ecb.html#Top">
<link rel="up" href="Setting-up-Emacs.html#Setting-up-Emacs" title="Setting up Emacs">
<link rel="prev" href="General-hints.html#General-hints" title="General hints">
<link rel="next" href="Non_002dsemantic-files.html#Non_002dsemantic-files" title="Non-semantic files">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<p>
<a name="Setting-up-semantic"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="Non_002dsemantic-files.html#Non_002dsemantic-files">Non-semantic files</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="General-hints.html#General-hints">General hints</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Setting-up-Emacs.html#Setting-up-Emacs">Setting up Emacs</a>
<hr>
</div>

<h4 class="subsection">1.2.2 Setting up semantic</h4>

<p>To ensure ECB and semantic are working correctly for all by semantic
supported languages you have to pay attention to the following aspects
concerning your Emacs-setup:

     <ol type=1 start=1>
<li>Setting up semantic itself

     <p>For all semantic-supported file-types parsing files is done completely
by semantic. ECB just displays the parsing results. For all needs of
ECB semantic is completely setup by ECB itself, i.e. ECB sets up
semantic for you! You have only to add the installation directory of
semantic to your <code>load-path</code> (in an appropriate way)!

     <p><strong>Please note</strong>: If you setup semantic for yourself following the
recommendations in the installation instructions of semantic then you
have probably added code to your startup-file like:

     <pre class="example">        (setq semantic-load-turn-everything-on t)
        (require 'semantic-load)
   </pre>
     <p>Be aware that this also enables the minor-modes
<code>semantic-show-dirty-mode</code> and
<code>semantic-show-unmatched-syntax-mode</code> where the former one
highlights all code which has to be reparsed with dark background
(which results in large portions of dark background ;-) and the latter
one underlines all syntax which can not be parsed. Especially the
former one can be really annoying.

     <p>To switch off these modes you can add to your startup-file:

     <pre class="example">        (global-semantic-show-dirty-mode -1)
        (global-semantic-show-unmatched-syntax-mode -1)
   </pre>
     <p><a name="Checking-your-hooks"></a>
<li>Checking your hooks

     <p>If you have already checked point (1.) and if you have still problems
getting ECB/semantic working properly for your sources you should
check the related major-mode hook. Every major-mode X has a hook with
name &ldquo;X-hook&rdquo; which is evaluated after activating the major-mode
(see above, 2.), e.g. the hook for the major-mode <code>c++-mode</code> is
<code>c++-mode-hook</code>.

     <p>Semantic adds automatically during load-time a special
&ldquo;semantic-setup&rdquo; to these major-mode hooks<a rel="footnote" href="#fn-1" name="fnd-1"><sup>1</sup></a> in form of a
&ldquo;setup-function&rdquo;. Example: For c and c++ modes semantic adds
<code>semantic-default-c-setup</code> to <code>c-mode-hook</code> and
<code>c++-mode-hook</code>.

     <p>If your own Emacs-setup (e.g. in <samp><span class="file">.emacs</span></samp> or
<samp><span class="file">site-lisp/site-start.el</span></samp>) overwrites such a major-mode-hook then
semantic can not be activated for this major-mode and in consequence
ECB can not work properly too!

     <p>Check if your Emacs-setup uses somewhere <code>setq</code> for adding code
to a major-mode-hook. <strong>IMPORTANT</strong>: Use <code>add-hook</code> instead of
<code>setq</code><a rel="footnote" href="#fn-2" name="fnd-2"><sup>2</sup></a>!

        </ol>

   <p>If your source-files are &ldquo;running&rdquo; with correct <code>major-mode</code>
and correct major-mode hooks ECB and semantic will do what you expect
them doing!

   <div class="footnote">
<hr>
<h4>Footnotes</h4><p class="footnote"><small>[<a name="fn-1" href="#fnd-1">1</a>]</small> Of course only
for major-modes supported by semantic!</p>

   <p class="footnote"><small>[<a name="fn-2" href="#fnd-2">2</a>]</small> <code>setq</code> replaces/overwrites the current
value of a hook with the new value whereas <code>add-hook</code>
<strong>adds</strong> the new value to the old-value of the hook!</p>

   <p><hr></div>

   </body></html>

